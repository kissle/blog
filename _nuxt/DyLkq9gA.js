import{A as P,a9 as S,u as R,aa as H,M as w,N as I,R as M,r as J,ab as O,ac as F,ad as V,C as z,E as x,ae as Q,K as U,af as Z,b as L,J as G}from"#entry";import{c as $}from"./BpGlm0L0.js";const X={trailing:!0};function Y(e,t=25,n={}){if(n={...X,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,s,i=[],a,d;const _=(c,y)=>(a=k(e,c,y),a.finally(()=>{if(a=null,n.trailing&&d&&!s){const g=_(c,d);return d=null,g}}),a),v=function(...c){return n.trailing&&(d=c),a||new Promise(y=>{const g=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const l=n.leading?r:_(this,c);d=null;for(const D of i)D(l);i=[]},t),g?(r=_(this,c),y(r)):i.push(y)})},o=c=>{c&&(clearTimeout(c),s=null)};return v.isPending=()=>!!s,v.cancel=()=>{o(s),i=[],d=null},v.flush=()=>{if(o(s),!d||a)return;const c=d;return d=null,_(this,c)},v}async function k(e,t,n){return await e.apply(t,n)}function se(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;K(e[0],e[1])&&e.unshift(t);let[n,r,s={}]=e;const i=P(()=>S(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=R();s.server??=!0,s.default??=ee,s.getCachedData??=B,s.lazy??=!1,s.immediate??=!0,s.deep??=H.deep,s.dedupe??="cancel",s._functionName,a._asyncData[i.value];const d={cause:"initial",dedupe:s.dedupe};a._asyncData[i.value]?._init||(d.cachedData=s.getCachedData(i.value,a,{cause:"initial"}),a._asyncData[i.value]=E(a,i.value,r,s,d.cachedData));const _=a._asyncData[i.value];_._deps++;const v=()=>a._asyncData[i.value].execute(d),o=s.server!==!1&&a.payload.serverRendered;{let g=function(u){const f=a._asyncData[u];f?._deps&&(f._deps--,f._deps===0&&f?._off())};const l=U();if(l&&o&&s.immediate&&!l.sp&&(l.sp=[]),l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const u=l._nuxtOnBeforeMountCbs;Z(()=>{u.forEach(f=>{f()}),u.splice(0,u.length)}),L(()=>u.splice(0,u.length))}const D=l&&(l._nuxtClientOnly||G($,!1));o&&a.isHydrating&&(_.error.value||_.data.value!==void 0)?_.status.value=_.error.value?"error":"success":l&&(!D&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?l._nuxtOnBeforeMountCbs.push(v):s.immediate&&_.status.value!=="success"&&v();const m=Q(),h=w(i,(u,f)=>{if((u||f)&&u!==f){const C=a._asyncData[f]?.data.value!==void 0,N=a._asyncDataPromises[f]!==void 0;f&&g(f);const q={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[u]?._init){let j;f&&C?j=a._asyncData[f]?.data.value:(j=s.getCachedData(u,a,{cause:"initial"}),q.cachedData=j),a._asyncData[u]=E(a,u,r,s,j)}a._asyncData[u]._deps++,(s.immediate||C||N)&&a._asyncData[u].execute(q)}},{flush:"sync"}),b=s.watch?w(s.watch,()=>{_._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};m&&I(()=>{h(),b(),g(i.value)})}const c={data:p(()=>a._asyncData[i.value]?.data),pending:p(()=>a._asyncData[i.value]?.pending),status:p(()=>a._asyncData[i.value]?.status),error:p(()=>a._asyncData[i.value]?.error),refresh:(...g)=>a._asyncData[i.value].execute(...g),execute:(...g)=>a._asyncData[i.value].execute(...g),clear:()=>T(a,i.value)},y=Promise.resolve(a._asyncDataPromises[i.value]).then(()=>c);return Object.assign(y,c),y}function p(e){return P({get(){return e()?.value},set(t){const n=e();n&&(n.value=t)}})}function K(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}async function ne(e){await new Promise(n=>M(n)),await R().hooks.callHookParallel("app:data:refresh",void 0)}function T(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=x(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function A(e,t){const n={};for(const r of t)n[r]=e[r];return n}function E(e,t,n,r,s){e.payload._errors[t]??=void 0;const i=r.getCachedData!==B,a=n,d=r.deep?J:O,_=s!==void 0,v=e.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await o.execute({cause:"refresh:hook"})}),o={data:d(_?s:r.default()),pending:P(()=>o.status.value==="pending"),error:F(e.payload._errors,t),status:O("idle"),execute:(...c)=>{const[y,g=void 0]=c,l=y&&g===void 0&&typeof y=="object"?y:{};if(e._asyncDataPromises[t]){if((l.dedupe??r.dedupe)==="defer")return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}{const m="cachedData"in l?l.cachedData:r.getCachedData(t,e,{cause:l.cause??"refresh:manual"});if(m!==void 0)return e.payload.data[t]=o.data.value=m,o.error.value=void 0,o.status.value="success",Promise.resolve(m)}o.status.value="pending";const D=new Promise((m,h)=>{try{m(a(e))}catch(b){h(b)}}).then(async m=>{if(D.cancelled)return e._asyncDataPromises[t];let h=m;r.transform&&(h=await r.transform(m)),r.pick&&(h=A(h,r.pick)),e.payload.data[t]=h,o.data.value=h,o.error.value=void 0,o.status.value="success"}).catch(m=>{if(D.cancelled)return e._asyncDataPromises[t];o.error.value=z(m),o.data.value=x(r.default()),o.status.value="error"}).finally(()=>{D.cancelled||delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=D,e._asyncDataPromises[t]},_execute:Y((...c)=>o.execute(...c),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{v(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),i||V(()=>{e._asyncData[t]?._init||(T(e,t),o.execute=()=>Promise.resolve())})}};return o}const ee=()=>{},B=(e,t,n)=>{if(t.isHydrating)return t.payload.data[e];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return t.static.data[e]},W={content_en:"v3.5.0--DkedPcjTtH_lBd6AkqjceyrmoBO75D5-29qoh0H5uGc",content_fr:"v3.5.0--ArIk4YOaqOWHQwRPED4G20RbsxMgpEX0onnfnz17NFI",articles_en:"v3.5.0--lWSfvvXDiVC1wZeDARyc-CDOq6t24CnmHL3ZOytZqEY",articles_fr:"v3.5.0--7KJitVVwR0KoH3ErWFwBw21vjxiquKjZPWxDQqkWx2A",projects_en:"v3.5.0--UJE3CIZL09b7oG4IEDC3CBAbR9RBWTftJPTnoJ4YOF0",projects_fr:"v3.5.0--o2dmEz0kR7jycWAudWWJI87vyGp6NwvSCp1sHyRo0LE",stack:"v3.5.0--Qmj4t2ByZyBR5ulc5-JwMa_PL_tVFcEqcS0Ety0ZRSo",faq_en:"v3.5.0--TgEwNOJM13trv2x9dkFz3-OxC1EgJ1X512r6gxbteeU",faq_fr:"v3.5.0--4W0Pfx9U0ojpvyfh7CzUW5mDq85zVyqlxt8e8Bk5i3Q"},ie={content_en:"_content_content_en",content_fr:"_content_content_fr",articles_en:"_content_articles_en",articles_fr:"_content_articles_fr",projects_en:"_content_projects_en",projects_fr:"_content_projects_fr",stack:"_content_stack",faq_en:"_content_faq_en",faq_fr:"_content_faq_fr",info:"_content_info"},re={content_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},content_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},articles_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},articles_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},projects_en:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},projects_fr:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},stack:{type:"data",fields:{id:"string",extension:"string",items:"json",meta:"json",stem:"string"}},faq_en:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},faq_fr:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},info:{type:"data",fields:{}}};async function oe(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:W[String(t)],t:void 0}})}async function ce(e,t,n){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:W[String(t)],t:void 0},method:"POST",body:{sql:n}})}export{W as a,oe as b,re as c,ce as f,ne as r,ie as t,se as u};
